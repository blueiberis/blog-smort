{{ define "main" }}

<!-- Page Header -->
<section class="bg-brand-blue text-brand-white">
  <div class="container mx-auto px-6 py-16 text-center">
    <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4">
      {{ .Title }}
    </h1>

    {{ with .Description }}
      <p class="text-base sm:text-lg md:text-xl max-w-3xl mx-auto">
        {{ . | safeHTML }}
      </p>
    {{ end }}
  </div>
</section>

<!-- Posts List -->
<section class="container mx-auto px-6 py-16">
  {{ if .Pages }}
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8">
      {{ range .Pages.ByDate.Reverse }}
        <article class="bg-brand-white rounded-lg shadow hover:shadow-lg transition overflow-hidden flex flex-col">

          {{ with .Params.featured_image }}
            <img
              src="{{ . }}"
              alt="{{ $.Title }}"
              class="w-full h-48 sm:h-56 object-cover"
            >
          {{ else }}
            <img
              src="/images/posts/default-thumbnail.png"
              alt="{{ .Title }}"
              class="w-full h-48 sm:h-56 object-cover"
            >
          {{ end }}

          <div class="p-4 sm:p-6 flex-1 flex flex-col justify-between">
            <div>
              <h2 class="text-lg sm:text-xl font-bold mb-2 hover:text-brand-blue">
                <a href="{{ .RelPermalink }}">
                  {{ .Title }}
                </a>
              </h2>

              <p class="text-gray-600 text-sm sm:text-base mb-4">
                {{ .Summary | plainify | truncate 140 }}
              </p>

              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between text-sm text-gray-500 mb-4 gap-1 sm:gap-0">
                <span>{{ .Date.Format "Jan 2, 2006" }}</span>

                {{ with .Params.categories }}
                  <span>
                    {{ range first 1 . }}
                      <a
                        href="{{ "/categories/" | relURL }}{{ . | urlize }}"
                        class="text-brand-blue hover:underline"
                      >
                        {{ . }}
                      </a>
                    {{ end }}
                  </span>
                {{ end }}
              </div>
            </div>

            <a
              href="{{ .RelPermalink }}"
              class="text-brand-mustard font-semibold hover:underline mt-auto"
            >
              Read More â†’
            </a>
          </div>
        </article>
      {{ end }}
    </div>
  {{ else }}
    <p class="text-center text-gray-600">
      No posts found.
    </p>
  {{ end }}
</section>

{{ end }}
