{{ define "main" }}
<section class="bg-brand-blue text-brand-white">
    <div class="container mx-auto px-6 py-20 text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">{{ .Title }}</h1>
        <p class="text-lg md:text-xl mb-8">{{ .Description | safeHTML }}</p>
        <p class="text-lg md:text-xl mb-8">{{ .Content | safeHTML }}</p>
        <a href="/posts" class="inline-block bg-brand-mustard text-brand-dark font-semibold mt-6 px-6 py-3 rounded-lg hover:bg-yellow-400 transition">Explore Posts</a>
    </div>
</section>

<!-- Latest Posts -->
<section id="posts" class="container mx-auto px-6 py-16">
    <h2 class="text-3xl font-bold mb-8 text-center text-brand-dark">Latest Posts</h2>
    <div class="grid md:grid-cols-3 gap-8">
        {{ $posts := where .Site.RegularPages "Section" "posts" }}
        {{ range first 6 (sort $posts "Date" "desc") }}
        <div class="bg-brand-white rounded-lg shadow hover:shadow-lg transition overflow-hidden">
            {{ with .Params.featured_image }}
            <img src="{{ . }}" alt="{{ $.Title }}" class="w-full h-48 object-cover">
            {{ else }}
            <img src="/images/posts/default-thumbnail.png" alt="{{ .Title }}" class="w-full h-48 object-cover">
            {{ end }}
            <div class="p-6">
                <h3 class="text-xl font-bold mb-2 hover:text-brand-blue cursor-pointer">
                    <a href="{{ .RelPermalink }}">{{ .Title }}</a>
                </h3>
                <p class="text-gray-600 mb-4">{{ .Summary | plainify | truncate 120 }}</p>
                <a href="{{ .RelPermalink }}" class="text-brand-mustard font-semibold hover:underline">Read More â†’</a>
            </div>
        </div>
        {{ end }}
    </div>
</section>

{{ end }}
